# 新股发行信息获取系统 - 服务器部署版

## 文件说明

只需3个Python文件即可运行：

1. **models.py** - 数据模型
2. **services.py** - 所有服务（日志、数据获取、处理、格式化）
3. **main_simple.py** - 主入口
4. **requirements.txt** - 依赖列表

## 快速部署

### 1. 安装依赖

```bash
# 方式一：使用 pip
pip install -r requirements.txt

# 方式二：使用 uv（推荐）
uv pip install akshare pandas
```

### 2. 运行

```bash
# Windows
python main_simple.py

# Linux/Mac
python3 main_simple.py
```

### 3. 集成到 n8n

**Windows:**
```
cd /path/to/project && python main_simple.py
```

**Linux/Mac:**
```
cd /path/to/project && python3 main_simple.py
```

## 输出示例

```markdown
# 新股发行信息

**生成时间**: 2026-01-06 22:16:10
**新股数量**: 2 只

---

## 2026-01-06

### 至信股份（603352）

| 项目 | 信息 |
|------|------|
| **申购代码** | 603352 |
| **申购日期** | 2026-01-06 |
| **发行价格** | 21.88元 |
| **发行数量** | 5667万股 |
| **申购上限** | 2万股 |
| **中签率** | 2.4686% |
| **上市地点** | 上海-主板 |
| **所属行业** | 汽车制造业 |

**公司简介**:
重庆至信实业股份有限公司...

### 科马材料（920086）

| 项目 | 信息 |
|------|------|
| **申购代码** | 920086 |
| **申购日期** | 2026-01-06 |
| **发行价格** | 11.66元 |
| **发行数量** | 2092万股 |
| **申购上限** | 94万股 |
| **上市地点** | 北交所 |
| **所属行业** | 橡胶和塑料制品业 |

**公司简介**:
科马材料专注于聚氨酯软泡组合料...
```

## 特点

- ✅ 只需3个文件，易于部署
- ✅ 自动获取未来10天新股信息
- ✅ 包含完整信息（申购日期、价格、行业、简介等）
- ✅ Markdown 格式输出，便于 n8n 读取
- ✅ 详细的市场分类（主板、科创板、创业板、北交所）

## 定时任务

### Linux Crontab

```bash
# 每天早上9点执行
0 9 * * * cd /path/to/project && python3 main_simple.py
```

### Windows 计划任务

创建任务计划程序，定时运行：
```bash
python C:\path\to\project\main_simple.py
```

## 注意事项

1. **首次运行**可能较慢，因为需要从网络获取数据
2. **网络要求**：需要能访问 akshare 的数据源
3. **Python版本**：建议 Python 3.10+
4. **日志输出**：会自动在 logs/ 目录生成日志文件
